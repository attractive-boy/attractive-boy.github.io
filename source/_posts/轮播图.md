---
title: '焦点轮播图'
date: 2021-08-21 23:25:37
tags:
    - css
    - html
    - jqurey
categories: Bootstrap
---
## 准备
> 本方法基于bootstrap，首先需要引入[bootstrap4](https://github.com/twbs/bootstrap/releases/download/v4.6.0/bootstrap-4.6.0-dist.zip)，然后在需要使用bootstrap样式和方法的元素用一个`<div class="container"></div>`包裹起来。

<!--more-->

### 图片切换

```
<div class="carousel">
    <div class="carousel-inner">
        <div class="carousel-item">
            <img src="..." alt="...">
        </div>
        ...
    </div>
<div>
```

 其中
1. `carousel`的css样式为：

```
.carousel{
    position: relative;
}
```

作为整个轮播图的相对定位。

2. `carousel-inner`的css样式为：

```
.carousel-inner {
  position: relative;
  width: 100%;
  overflow: hidden;
}
```
`overflow`溢出隐藏，并且也做了相对定位，宽度为父元素的100%。

3. `carousel-item`的css样式为：

```
.carousel-item {
  position: relative;
  display: none;
  float: left;
  width: 100%;
  margin-right: -100%;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  transition: -webkit-transform 0.6s ease-in-out;
  transition: transform 0.6s ease-in-out;
  transition: transform 0.6s ease-in-out, -webkit-transform 0.6s ease-in-out;
}
```

`display: none`每张图片都进行了隐藏。
> 要让图片显示，需要给首页**第一张**显示的图片设置`class="active"`属性
#### 事件
给最外层的`<div class="carousel" ></div>`添加一个事件`data-ride="carousel"`此时轮播图可以隔一段时间自己轮换照片。
### 左右箭头

```
<a href="" class="carousel-control-next"></a>
<a href="" class="carousel-control-prev"></a>
```

`carousel-control-next`和`carousel-control-prev`的css代码为：

```
.carousel-control-prev,
.carousel-control-next {
  position: absolute;
  top: 0;
  bottom: 0;
  z-index: 1;
  display: -ms-flexbox;
  display: flex;
  -ms-flex-align: center;
  align-items: center;
  -ms-flex-pack: center;
  justify-content: center;
  width: 15%;
  color: #fff;
  text-align: center;
  opacity: 0.5;
  transition: opacity 0.15s ease;
}
```

绝对定位，位于轮播图的一左一右。

此时我们还看不到任何效果，需要添加两个小箭头。

```
<span class="carousel-control-next-icon"></span>
<span class="carousel-control-prev-icon"></span>
```

将这两个按钮添加到`<a></a>`中。

此时这两个小箭头还没有任何作用，此时添加事件:

```
<a data-slide="next" href="#change"...></a>
<a data-slide="prev" href="#change"...></a>
```

给最外层carousel添加一个`id = "change"`表示箭头改变的是他的图案。

效果完成，点击箭头可实现图片转换。

### 轮播指示器
轮播指示器采用列表。

```
<ul class="carousel-indicators">
</ul>
```

`carousel`的css样式为：

```
.carousel-indicators {
  position: absolute;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 15;
  display: -ms-flexbox;
  display: flex;
  -ms-flex-pack: center;
  justify-content: center;
  padding-left: 0;
  margin-right: 15%;
  margin-left: 15%;
  list-style: none;
}
```

弹性，x轴主轴，主轴居中显示，绝对定位

然后添加四个`<li></li>`,不需要写样式，由`carousel-indicators`直接控制。

```
.carousel-indicators li {
  box-sizing: content-box;
  -ms-flex: 0 1 auto;
  flex: 0 1 auto;
  width: 30px;
  height: 3px;
  margin-right: 3px;
  margin-left: 3px;
  text-indent: -999px;
  cursor: pointer;
  background-color: #fff;
  background-clip: padding-box;
  border-top: 10px solid transparent;
  border-bottom: 10px solid transparent;
  opacity: .5;
  transition: opacity 0.6s ease;
}
```

#### 事件
让每个`<li>` 可以被点击应该添加`data-slide-to="num"`其中num是`<li>`的图片编号（0开始）同时添加一个属性`data-target="#change"`表示点击之后改变的轮播图。
> 要使当时被选中的指示器颜色改变需要给**第一个**`<li></li>`添加`class="active"`

至此轮播图~~制作成功~~，还需重写自己觉得不美观的css样式。

#### [完整代码](https://index.attractiveboy.top/bootstrap/carousel.html)